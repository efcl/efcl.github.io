---
title: "ES6+カジュアルトークでES7について発表してきた"
author: azu
layout: post
date : 2014-10-29T23:25
category: イベント
tags:
    - JavaScript
    - ECMAScript
    - スライド
    - イベント

---



# [ES6+カジュアルトーク - connpass](http://connpass.com/event/9113/ "ES6+カジュアルトーク - connpass")

[ES6+カジュアルトーク](http://connpass.com/event/9113/ "ES6+カジュアルトーク - connpass") に参加と発表してきました。

自分は[明日には使えなくなるES7トーク](http://azu.github.io/slide/es6talks/ "明日には使えなくなるES7トーク")というES7の話をしてきました。

## 「runstant 始めるEcmaScript6 入門」 by @phi_jp

> [EcmaScript 6 のサンプル集 | runstant](http://phi-jp.github.io/runstant/release/alpha/#UEsDBAoAAAAAAGmRXUXv/Olb5BEAAOQRAAAEAAAAZGF0YXsidmVyc2lvbiI6IjAuMC4xIiwiY3VycmVudCI6InNjcmlwdCIsInNldHRpbmciOnsidGl0bGUiOiJFY21hU2NyaXB0IDYg44Gu44K144Oz44OX44Or6ZuGIiwiZGV0YWlsIjoiRWNtYVNjcmlwdCA2IOOBruOCteODs+ODl+ODq+mbhiJ9LCJjb2RlIjp7Imh0bWwiOnsidHlwZSI6Imh0bWwiLCJ2YWx1ZSI6IjwhRE9DVFlQRSBodG1sPlxuIFxuPGh0bWw+XG4gICAgPGhlYWQ+XG4gICAgICAgIDxtZXRhIGNoYXJzZXQ9XCJVVEYtOFwiIC8+XG4gICAgICAgIDxtZXRhIG5hbWU9XCJ2aWV3cG9ydFwiIGNvbnRlbnQ9XCJ3aWR0aD1kZXZpY2Utd2lkdGgsIHVzZXItc2NhbGFibGU9bm9cIiAvPlxuICAgICAgICA8bWV0YSBuYW1lPVwiYXBwbGUtbW9iaWxlLXdlYi1hcHAtY2FwYWJsZVwiIGNvbnRlbnQ9XCJ5ZXNcIiAvPlxuIFxuICAgICAgICA8dGl0bGU+JHt0aXRsZX08L3RpdGxlPlxuICAgICAgICA8bWV0YSBuYW1lPVwiZGVzY3JpcHRpb25cIiBjb250ZW50PVwiJHtkZXNjcmlwdGlvbn1cIiAvPlxuXG4gICAgICAgIDxzdHlsZT4ke3N0eWxlfTwvc3R5bGU+XG5cbiAgICAgICAgPHNjcmlwdCBzcmM9XCJodHRwOi8vY2RuLnJhd2dpdC5jb20vcGhpLWpwL2hpZ2gvMC4wLjMvaGlnaC5qc1wiPjwvc2NyaXB0PlxuXHRcdDxzY3JpcHQ+JHtzY3JpcHR9PC9zY3JpcHQ+XG4gICAgPC9oZWFkPlxuICAgIDxib2R5PlxuICAgICAgICA8aDE+SGVsbG8sIHJ1bnN0YW50ITwvaDE+XG4gICAgPC9ib2R5PlxuPC9odG1sPiJ9LCJzdHlsZSI6eyJ0eXBlIjoiY3NzIiwidmFsdWUiOiJib2R5IHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMjQwLCAyNDAsIDI1MCk7XG59XG5cbmgxIHtcbiAgICBjb2xvcjogIzQ0NDtcbiAgICBmb250LXNpemU6IDIzcHg7XG4gICAgZm9udC1mYW1pbHk6ICdMdWNpZGEgR3JhbmRlJywnSGlyYWdpbm8gS2FrdSBHb3RoaWMgUHJvTicsIE1laXJ5bywgc2Fucy1zZXJpZjtcbn0ifSwic2NyaXB0Ijp7InR5cGUiOiJlY21hc2NyaXB0NiIsInZhbHVlIjoiLypcbiAqICMgRWNtYVNjcmlwdCA2XG4gKiBFY21hU2NyaXB0IDYg44Gu44K144Oz44OX44Or6ZuGXG4gKi9cblxuc2FtcGxlX2xldCgpO1xuLy8gc2FtcGxlX2Jhc2UoKTsgLy8gMumAsuaVsCwgOOmAsuaVsFxuLy8gc2FtcGxlX2Fycm93KCk7XG4vLyBzYW1wbGVfZGVmYXVsdF9wYXJhbSgpO1xuLy8gc2FtcGxlX2Rlc3RydWN0dXJpbmcoKTsgLy8g44OH44K544OI44Op44Kv44OB44Oj44Oq44Oz44KwXG4vLyBzYW1wbGVfdGVtcGxhdGUoKTsgLy8g44OQ44OD44Kv44Kv44Kp44O844OIXG4vLyBzYW1wbGVfY2xhc3MoKTtcblxuXG4vKlxuICogbGV0IOOBruOCteODs+ODl+ODq1xuICog44K544Kz44O844OX44Gn6ZaJ44GY44Gf5aSJ5pWw44KS5L2/44GI44KLXG4gKi9cbmZ1bmN0aW9uIHNhbXBsZV9sZXQoKSB7XG4gICAgbGV0IGhvZ2UgPSAxMjg7XG4gICAgXG4gICAgaWYgKHRydWUpIHtcbiAgICAgICAgLy8g44K544Kz44O844OX44GM6YGV44GG44Gu44GnXG4gICAgICAgIGxldCBob2dlID0gMjU2O1xuICAgICAgICBjb25zb2xlLmxvZyhob2dlKTsgLy8gMjU2XG4gICAgfVxuICAgIC8vIOacgOWIneOBq+S7o+WFpeOBl+OBn+WApOOBjOihqOekuuOBleOCjOOCi1xuICAgIGNvbnNvbGUubG9nKGhvZ2UpOyAvLyAxMjhcbn07XG5cbi8qXG4gKiAy6YCy5pWwLCA46YCy5pWwXG4gKiDmm7jjgZHjgovjgojjgYbjgavjgarjgaPjgZ9cbiAqL1xuZnVuY3Rpb24gc2FtcGxlX2Jhc2UoKSB7XG4gICAgLy8gMumAsuaVsFxuICAgIGNvbnNvbGUubG9nKDBiMDAxMSk7IC8vIDNcbiAgICAvLyA46YCy5pWwXG4gICAgY29uc29sZS5sb2coMG8wMDExKTsgLy8gOVxufTtcblxuLypcbiAqIGFycm93IGZ1bmN0aW9uIOOBruOCteODs+ODl+ODq1xuICog6Imy44CF44Go55yB55Wl44GX44Gf6Zai5pWw5a6a576p44GM44Gn44GN44KL44KIXG4gKi9cbmZ1bmN0aW9uIHNhbXBsZV9hcnJvdygpIHtcbiAgICBcbiAgICAvLyDku4rjgb7jgadcbiAgICB2YXIgc3F1YXJlMSA9IGZ1bmN0aW9uICh4KSB7XG4gICAgICAgIHJldHVybiAoeCAqIHgpO1xuICAgIH07XG4gICAgXG4gICAgLy8gZnVuY3Rpb24g44KS55yB55WlXG4gICAgdmFyIHNxdWFyZTIgPSAoeCkgPT4ge1xuICAgICAgICByZXR1cm4gKHggKiB4KTtcbiAgICB9O1xuICAgIFxuICAgIC8vIOaLrOW8p+OCkuecgeeVpVxuICAgIHZhciBzcXVhcmUzID0geCA9PiB7XG4gICAgICAgIHJldHVybiAoeCAqIHgpO1xuICAgIH07XG4gICAgXG4gICAgLy8gcmV0dXJuIOOCkuecgeeVpVxuICAgIHZhciBzcXVhcmU0ID0geCA9PiAoeCAqIHgpO1xuICAgIFxuICAgIC8vIOWFqOmDqOe1kOaenOOBr+S4gOe3klxuICAgIGNvbnNvbGUubG9nKHNxdWFyZTEoMykpO1xuICAgIGNvbnNvbGUubG9nKHNxdWFyZTIoMykpO1xuICAgIGNvbnNvbGUubG9nKHNxdWFyZTMoMykpO1xuICAgIGNvbnNvbGUubG9nKHNxdWFyZTQoMykpO1xufTtcblxuLypcbiAqIOODh+ODleOCqeODq+ODiOODkeODqeODoeODvOOCv1xuICog44OH44OV44Kp44Or44OI5byV5pWw5oyH5a6a44Gn44GN44KL44KI44GG44Gr44Gq44Gj44Gf44KIXG4gKi9cbmZ1bmN0aW9uIHNhbXBsZV9kZWZhdWx0X3BhcmFtKCkge1xuICAgIC8vIOODh+ODleOCqeODq+ODiOW8leaVsOOCkuioreWumihD44Go44GL44Go5ZCM44GYKVxuICAgIHZhciBoZWxsbyA9IGZ1bmN0aW9uKHlvdSA9IFwid29ybGRcIikge1xuICAgICAgICBjb25zb2xlLmxvZyhcIkhlbGxvLCBcIiArIHlvdSk7XG4gICAgfTtcbiAgICBcbiAgICAvLyDnnIHnlaXjgZnjgovjgaggXCJ3b3JsZFwiXG4gICAgaGVsbG8oKTsgLy8gSGVsbG8sIHdvcmxkIVxuICAgIC8vIOaMh+WumuOBmeOCi+OBqOOBneOBo+OBoeOCkuWEquWFiFxuICAgIGhlbGxvKFwieW9zdWtlXCIpOyAvLyBIZWxsbywgeW9zdWtlXG59O1xuXG4vKlxuICog5YiG5Ymy5Luj5YWlXG4gKiDliIblibLku6PlhaXjgafjgY3jgovjgohcbiAqL1xuZnVuY3Rpb24gc2FtcGxlX2Rlc3RydWN0dXJpbmcoKSB7XG4gICAgLy8g5YiG5Ymy5Luj5YWl44Gn44GN44G+44GZXG4gICAgdmFyIGEgPSA1O1xuICAgIHZhciBiID0gMjtcblxuICAgIGNvbnNvbGUubG9nKGEpOyAvLyA1XG4gICAgY29uc29sZS5sb2coYik7IC8vIDJcbiAgICBcbiAgICB2YXIgW2EsIGJdID0gW2IsIGFdO1xuICAgIFxuICAgIGNvbnNvbGUubG9nKGEpOyAvLyAyXG4gICAgY29uc29sZS5sb2coYik7IC8vIDVcbiAgICBcbiAgICAvLyDjgqrjg5bjgrjjgqfjgq/jg4jjgoLjgYTjgZHjgoso44Gq44Gc44GL44Ko44Op44O8KVxuICAgIC8qXG4gICAgdmFyIHYgPSB7XG4gICAgICAgIHg6IDEyOCxcbiAgICAgICAgeTogMjU2LFxuICAgIH07XG4gICAgXG4gICAgdmFyIHt4LCB5fSA9IHY7XG4gICAgXG4gICAgY29uc29sZS5sb2coeCk7XG4gICAgY29uc29sZS5sb2coeSk7XG4gICAgKi9cbn07XG5cbi8qXG4gKiDmloflrZfliJfjg4bjg7Pjg5fjg6zjg7zjg4hcbiAqIOODkOODg+OCr+OCr+OCqeODvOODiOOBp+WbsuOCgOOBqOODkuOCouODieOCreODpeODoeODs+ODiOabuOOBhOOBn+OCilxuICog5aSJ5pWw5bGV6ZaL44Gn44GN44Gf44KK44GZ44KLXG4gKi9cbmZ1bmN0aW9uIHNhbXBsZV90ZW1wbGF0ZSgpIHtcbiAgICAvLyDmlLnooYzovrzjgb/jgafmm7jjgZHjgZ/jgopcbiAgICB2YXIgc3RyID0gYOWQvui8qeOCj+OBjOOBr+OBhOOBr+eMq+OBp+OBguOCi+OAguWQjeWJjeOBr+OBvuOBoOeEoeOBhOOAglxu44Gp44GT44Gn55Sf44KM44Gf44GL44Go44KT44Go6KaL5b2T44GR44KT44Go44GG44GM44Gk44GL44Gs44CCYDtcbiAgICBjb25zb2xlLmxvZyhzdHIpO1xuICAgIFxuICAgIC8vIOWkieaVsOOBruWxlemWi+OBp+OBjeOBn+OCilxuICAgIHZhciB1c2VyID0ge1xuICAgICAgICBuYW1lOiAncGhpJyxcbiAgICAgICAgYmxvb2RUeXBlOiAnTycsXG4gICAgfTtcbiAgICBjb25zb2xlLmxvZyhgbmFtZTogJyR7dXNlci5uYW1lfScsIGJsb29kVHlwZTogJyR7dXNlci5ibG9vZFR5cGV9J2ApO1xuICAgIFxuICAgIC8vIOioiOeul+OCguOBhOOBkeOBn+OCiuOBmeOCi1xuICAgIGNvbnNvbGUubG9nKGAyKzQ9JHsyKzR9YCk7XG59O1xuXG5cbi8qXG4gKiDjgq/jg6njgrnjga7jgrXjg7Pjg5fjg6tcbiAqL1xuZnVuY3Rpb24gc2FtcGxlX2NsYXNzKCkge1xuICAgIC8vIOOCiOOBj+OBguOCi+OCr+ODqeOCueWumue+qeOCkiBqcyDjgafjgoIhIVxuICAgIGNsYXNzIFZlY3RvcjIge1xuICAgICAgICBjb25zdHJ1Y3Rvcih4PTAsIHk9MCkge1xuICAgICAgICAgICAgdGhpcy54ID0geDtcbiAgICAgICAgICAgIHRoaXMueSA9IHk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGxvZygpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwieD1cIiArIHRoaXMueCk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcInk9XCIgKyB0aGlzLnkpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBcbiAgICAvLyDmma7pgJrjgavkvb/jgYjjgotcbiAgICB2YXIgdiA9IG5ldyBWZWN0b3IyKDIsIDQpO1xuICAgIHYubG9nKCk7IC8vIHg9MiwgeT00XG59O1xuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4ifX19UEsBAhQACgAAAAAAaZFdRe/86VvkEQAA5BEAAAQAAAAAAAAAAAAAAAAAAAAAAGRhdGFQSwUGAAAAAAEAAQAyAAAABhIAAAAA "EcmaScript 6 のサンプル集 | runstant")

- [runstant](http://phi-jp.github.io/runstant/release/alpha/ "template - tmlib.js | runstant")
	- jsfiddle的なツール
- ハンズオン
- `let`
- 2進数を直接書ける
	- [Lexical grammar - JavaScript | MDN](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Lexical_grammar#Numeric_literals "Lexical grammar - JavaScript | MDN")		
- デフォルトパラメータ
	- 引数にデフォルト値を設定出来る
- 分割代入
- template strings
	- バッククオーでヒアドキュメントを書ける
- `class` syntax

## 「Node.js v0.12で使えるようになるES6+αの機能」 by @yosuke_furukawa

> [Node.js v0.12で使えるようになるES6+の機能一覧 // Speaker Deck](https://speakerdeck.com/yosuke_furukawa/node-dot-js-v0-dot-12deshi-eruyouninarues6-plus-falseji-neng-lan "Node.js v0.12で使えるようになるES6+の機能一覧 // Speaker Deck")


- Node.jsの0.12のビルドして入ってるV8のES6の機能について
- `--harmony-typeof`が消えた
	- `typeof null`が消えた
	- これからも`typeof null`はobjectのまま
- `harmony_arrow_function`
	- `=>`

### v0.12でデフォルトになった機能

- Symbol
	- オブジェクトのkeyに利用できる特殊なキー
	- `Symbol`を使うと外のスコープから見えないキーを作れる
	- 外からキーを指定できないので、Privateなプロパティを作れる
	- [Private properties in JavaScript — Curiosity driven](https://curiosity-driven.org/private-properties-in-javascript "Private properties in JavaScript — Curiosity driven")
- Map/Set
	- Collectionとなるオブジェクト
	- いわゆるマッピオブジェクト
- Set
	- 重複を持たない
	- Mapで実装されてる?
	- [collection.js - v8 - V8 JavaScript Engine - Google Project Hosting](https://code.google.com/p/v8/source/browse/trunk/src/collection.js "collection.js - v8 - V8 JavaScript Engine - Google Project Hosting")
- `for-of`
	- iterableなものを繰り返し辿れる
	- Arrayなども回せる
	- Generatorはiterableなもの(nextで次へ行ける)
	- for-ofでGnerator関数を回せる
	- 自分でiteratorを作ることも出来る

```
 [Symbol.iterator](){
 
 }
```

- Promise
	- 非同期関数をPromiseでラップして処理する
- `Object.observe`
	- ES7の機能
	- `Array`や`Object`の変更を正しく監視出来る

## 「ECMAScript6による 関数型プログラミング」 by @TanUkkii007 

- 関数型プログラミングの構成要素
	- 第一級オブジェクトとしての関数
	- イミュータビリティ
		- 副作用を排除出来る
	- [JavaScript と Scheme について - ksmakotoのhatenadiary](http://ksmakoto.hatenadiary.com/entry/2014/01/23/175535 "JavaScript と Scheme について - ksmakotoのhatenadiary")
- `const`
	- 再代入できない変数
	- `strict mode`
- 分割代入(デストラクチャリング)
	- 配列やオブエジェクトからパターンで値を抽出
- 再帰で繰り返し処理
	- ES6では末尾呼び出し最適化が入る
- プロキシ
	- 既存のオブジェクトをラップしてその一部の内部メソッドの挙動を変えることが出来る
	- ラップする内部の挙動(トラップ)を指定して、既存処理に対して処理を割り込める
- 配列に割り込んでコピーを返すようにする = 不変配列を作れる
	- `get`トラップの中で呼び出されたメソッド破壊的なメソッドだったら、sliceでコピーを返す
	- 透過的なAPIを保ちながら不変配列を作れる
	- Immutable Array


## 「Introduing Break the Web: Array extra methods case」by @Constellation

- ES6でメソッドが追加されて
	- `Array.prototype.values`
	-  `Array.prototype.keys`
	-  `Array.prototype.entries`
	- 等便利なメソッドが入った
- 既に同じ名前で定義してるやつがあるのでは…
	- 全く同じ挙動ならいいけどそうではない
- `with`ブロックの中ではES6の配列拡張は隠れてる
	- `@@unscopables`というプロパティに`values`等が入ってる
	- Safe break the web
	- このハックによりES6になっても壊れない
- MooTools
	- `Array#contains`
	- enumableなものとして定義してる
	- ES5では`contains`はnon-enumable
	- ES6では変わった
	- jsfiddleやoutlook.com等が壊れた
- Case Study 2
	- `Array.prototype.values`をChromeにPublicにした
	- `"value" in `という判定で処理をわけてた
		- Chromeでは常にtrueになるので壊れた
- 学び
	- 短縮された判定をするな(`in`)
		- `hasOwnProperty`等を使いましょう
	- 今のオブジェクトの形に依存するな
		- 今定義されてるメソッドを配列で定義しないで列挙して取り出そう
	- `use strict`を使おう

## 「Closure CompilerのES6対応 あるいは ES6時代のAltJS生存戦略」 by @teppeis

> [Closure CompilerのES6対応 あるいはES6時代のAltJS生存戦略](http://www.slideshare.net/teppeis/es6-closurecompileraltjs "Closure CompilerのES6対応 あるいはES6時代のAltJS生存戦略")

- Closure Compiler
	- JavaScript to JavaScript
	- 圧縮、最適化
	- JSDocベースの静的型付け
	- RefasterJS(自動リファクタリング)
- Conformance(規約チェック)
- JSDocベースの静的型付け
	- 冗長だけど、既存のJS都の親和がある
	- JavaScriptの進化に追従できる
	- コンパイルなしでも実行可能
- Compile ES6 to ES3
	- in,outで指定出来る
	- 結構色々サポートしてる
- [ECMAScript 6 compatibility table](http://kangax.github.io/compat-table/es6/ "ECMAScript 6 compatibility table")
- なぜClosure CompilerはTraceurを使わないか
	- Traceurは変換結果にコメントを残せない
	- Closure CompilerはJSDocが大事
	- パフォーマンスの問題
		- Closure Compiler + Traceurに変換が二重になる
- Traceurの微妙なところ
	- 自前で実装する基準が良く分からない
	- ランタイムがでかくなる
	- コンパイル不要な機能も入ってる
- AltJS
	- 各種AltJSが色々できた
	- ES6/7だけでも十分モダンなsyntaxに
	- 各ブラウザとかコンパイラがES6対応していってる
- AltJSの選定基準
	- コンテキストにおけるJSの不満を解決
	- AltJSからの出口戦略
	- プロダクトとAltJSどっちが長生きかどうか
		- 開発の継続性
		- 移行コスト
- Closure CompilerはECMAScript準拠の強み
	- JSDocなので、基本的に移行には強い
- ES6時代のAltJS
- 最強の出口は標準化してしまうこと
- 大統一言語

## [明日には使えなくなるES7トーク](http://azu.github.io/slide/es6talks/ "明日には使えなくなるES7トーク") - @azu_re

> [明日には使えなくなるES7トーク](http://azu.github.io/slide/es6talks/ "明日には使えなくなるES7トーク")

明日には使えなくなるかもしれないES7+で提案されてる仕様についての発表をしてきました。

まだ実装もないような仕様についてが中心です。

### [ECMAScript 7の策定プロセス](https://docs.google.com/document/d/1QbEE0BsO4lvl7NFTn5WXWeiEIBfaVUF7Dk0hpPpPDzU/edit "TC39 Process")

- Stage 0. `Strawman` : ESに入れたいアイデアを議論する段階
- Stage 1. `Proposal` : `Strawman`を具体化、デモ作成、分析
- Stage 2. `Draft` : 正式な仕様定義の形式で仕様書を書く段階
- Stage 3. `Candidate`: Draftの実装等をしてフィードバック
- Stage 4. `Finished`: ECMAScriptに正式採用 - [Test262](https://github.com/tc39/test262 "Test262")へ実装

このプロセスに沿ったStageごとに仕様紹介と最近話題のTypesやAtScript、Flowといった話についてをしました。

詳しくは[明日には使えなくなるES7トーク](http://azu.github.io/slide/es6talks/ "明日には使えなくなるES7トーク")を下にスクロールするとキャプションが見えます。

----

### メモ

- FoldingText
- Deckset

### 懇談会

- [JSer.info 200回記念イベント](http://connpass.com/event/9067/ "JSer.info 200回記念イベント")についてのパネルディスカッションの打ち合わせをした
- [JSer.info 200回記念イベントの質問 - Google モデレーター](http://www.google.com/moderator/?hl=ja#16/e=213da7 "JSer.info 200回記念イベントの質問 - Google モデレーター")に質問を当日まで貯めています
- オレオレFluxの流行やリアルワールドのAltJSどうなのという話をしました