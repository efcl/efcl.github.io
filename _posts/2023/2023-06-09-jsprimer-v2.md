---
title: "JavaScript Primer 改訂2版をリリースしました！/JavaScript Primerはなぜ更新され続けるのか？"
author: azu
layout: post
date : 2023-06-09T10:00
category: JavaScript
tags:
    - JavaScript
    - book

---

# アウトライン

# JavaScript Primer 改訂2版をリリースしました！/ JavaScript Primerはなぜ更新され続けるのか？

[mermaid-diagram-2023-06-05-214037.png](https://www.notion.so/13d831fba42a41e3b0c7a64c4c4db9bc?pvs=21) 

[JavaScript Primerを出版しました！/JavaScript Primerはなぜ書かれたのか？ | Web Scratch](https://efcl.info/2020/04/27/jsprimer/)

- 第二版をリリースしました
    - 2班の更新内容
- なぜ更新されているか?
    - 今の話
- どうやって更新され続けるのか?
    - 今後の話
- 未来

## リリースされました

- jsprimer 2版をリリースしました
    - とりあえず髪の書籍が発売されました
    - 電子書籍版も予定しています
    - 発売されたらメールで通知するので、気になる方はフォームに登録してください
    - 今回のjsprimerは改訂版という位置付けです。
    - 元々jsprimerは更新を続ける設計で書かれた書籍で、スナップショットとして書籍を出すイメージで作られていました。
    - そのため、当初の目的通り改訂(更新)をリリースできたことは嬉しいです
    - そもそも、なぜjsprimerは更新され続けるのつかについて書いていきたいと思います

## jsprimerはなぜ更新され続けるのか

- jsprimerの目的
    - [JavaScript Primerを出版しました！/JavaScript Primerはなぜ書かれたのか？ | Web Scratch](https://efcl.info/2020/04/27/jsprimer/)
    - [はじめに · JavaScript Primer #jsprimer](https://jsprimer.net/intro/)
- 目的としては、プログラミング初学者に対してJavaScriptを学べるようにするという入門書にあるような理由もあります。
    - 一方で、jsprimerがjsprimerである目的としては、変化に対応できる基礎を見つけて、自分で変化することが目的にあります
    - また、新入社員のような人に渡して読んでもらうとちょうどいいもの
- 変化に対応できるとは?
    - 知識を得る
        - 変化をするにはまずベースの知識が必要です
        - 何が変化しているのかわからない場合には、波に飲まれてしまいます
        - [ ]  jsprimerでは、
    - 手を動かせる
        - 変化が起きた時に、それを見ているよりは触ってみるとことで掴める変化も多いです
        - [ ]  jsprimerでは、
    - 試行錯誤できる
        - ソフトウェアの特徴はリトライコストが極限まで小さくできることです
        - そのため試行錯誤する回数を増やすこと自体は変化に対応するのに役立ちます
        - [Increasing number of attempts ver. 2021 - Speaker Deck](https://speakerdeck.com/butsugiri/increasing-number-of-attempts-ver-2021)
        - [ ]  jsprimerでは、
    - ライブラリやフレームワークに仕組みがあることを理解できる
        - これはjsprimerの中でも書いていますが、現代のライブラリはまるで魔法のような仕組みなってることが多いです
        - 魔法のように捉えてしまうと、歪な問題が起きてしまいます。
        - 例えば、SaaSは結局CSSを出力するだけであるため、UIとして表現力はCSSと同じです。
        - 魔法のように捉えてしまうと、必要以上のことができるように見えてしまったり、よくない誤解をしやすいです。
        - そのため、基礎を学んだり、著名な仕組みを分解したり、簡易な仕組みとして理解することで、魔法じゃない仕組みを理解することが変化に対応できます。
        - 基本的に、ライブラリやフレームワークの寿命は長いので、JavaScriptではライブラリの概念が言語に含まれていくこともあります。
        - そのため、仕組みがあることを理解していると、変化して新しい仕組みが出てきても、それは現在の延長線にあると捉えられます。
        - [ ]  jsprimerでは、ECMAScriptの仕様
    - Open Sourceへコミットできる
        - 現在の開発には90%?(よう出典)がオープンソースのコードです
        - そのため、Open Sourceを扱えないと、扱えない領域が増える事態になっています
        - これを手っ取り早く解決するのはOpen Sourceへコミット
        - [ ]  jsprimerでは、
- jsprimerは変化に対応するためのものを提供する場所
    - これは、javascriptそのものが変化している言語している言語であるため
    - 書籍もその変化に対応してアップデートされないと、歪みが生じます
    - なので、jsprimerは書く時には、更新を前提とした作りにしています
    - ウェブ版は、変化を常にとらえる場所として
    - 書籍版は、変化をスナップショットとして確認できる場所として
- この書籍を作るプロジェクトがjsprimer
    - 書籍の更新や、読者が変化に対応しやすくための開発、ウェ部ばんの更新をしている
    - 今年も2023年の対応をやっていて、書籍のリリース後はこれに取り組む予定です。
- リソースは有限である
    - ヒトモノカネと言われるようなリソースが更新には必要になる
        - jsprimerの場合は、モノはほぼないので、実際に必要なリソースは、人、金、時間だと思います。
    - この書籍を更新するjsprimerそのものもオープンソースプロジェクトとしてやっている
    - 人
        - jsprimerは常にcontributionを募集しています。
        - これは目的とも一致していて、jsprimerにcontributeすることでGitHubでのcontributeもできて、Open Sourceへのコミット体験にもなります。
        - 誤字脱字といったものをPRしてくれる人はかなり多く、100人以上のcontributorがいます。
        - 一方で、毎年のECMAScript対応の更新は大体自分がメインでやっている形になっています。
        - そのため、人は足りていません。
    - 更新のタスク 金と時間
        - これはアーキテクト的な設計を考えること
        - 調査すること
        - ライティングすること
        - の3つぐらいのタスクがある
    - よくみるオープンソースと同じくメンテナンスのコストは一定数必要になる
        - ECMAScriptは毎年更新されるため、毎年の更新、少なくても検討はほぼ必ず発生する
        - 平均して2-3ヶ月ぐらいは更新にかかっていて
        - それをまるっと使うわけじゃないけど、検討を含めると時間的には大体20-30日分ぐらいの仕事量は必要になる。
            - 今までの傾向から考えると、文章を書くよりもその設計や調査の方に時間を使う形です。
        - 時間で考えると1時間8000円 x 8 x 30 = 1920000
            - 1時間5000円 x 8 x 30 = 1200000
            - 2865円とした場合は = 6,87, 600
        - 大体100万前後ぐらいのコストがかかっている
        - これは大まかには感覚と一致してる
        - 時間と金を考えると、大体1ヶ月分の時間と100万円分ぐらいの相当するリソースが必要です。
            - 特に時間は有限なので、今のところなんとかなってますが、そのうち難しくはなります。

## どうやって更新を続けるのか

- 変化に対応できるように、更新できるようにする
    - これを満たすために、人、金、時間が必要です。
    - 書籍を買うことで著者を支援できます。
        - 金銭的に支援できます
    - Amazonなどの書籍販売サイトでレビューをしてくれると支援できます
        - 広い人に見られることにつながります
        - これによって人が増えて、時間が確保できる可能性があります
    - GitHub Sponsorsでも支援できます。
- リソースの増やし方
    - これは金の支援ですが、もっと人や時間を増やす方法がないかと考えていました。
    - ソフトウェアと違って書籍だと機能実装をする人は少ないイメージがあります。
    - 実際にはtextlintやレビューやLLMによって、書いてる人が増えても大丈夫な作りになっていると思います。
    - ただ、先ほど見てきたように書籍の更新には時間がかかります
        - 個別のissueに来っていて、大体4-5コぐらい毎年検討するものが出るので、一つ1週間ぐらいのイメージだと思います
    - これをカバーするは、検討していたコストに相当するものをどうにか補填して、Contributorを増やしていくのが一つの道なのかなと考えていました。
    - 個人のSponsorsではなく、jsprimerのSponsorとして支援することができれば、そこにプールした金から、Contributorに対してContributeしてくれたリソースへの対価は作れます。
        - 対価があることでContributeが増えるのかは分かりませんが、何もないよりはあったほうが健全だと思います
    - これを実現するためにOpen Collectiveを使うことで検討しています
        - Open CollectiveはGitHub Sponsorsと似ていますが、プロダクトに対する支援ページが作りやすい仕組みです。
        - Open Source CollectiveはOpen Source向けのCollective(プロジェクト)を作る仕組みで、手数料として寄付の10%かかりますが、クレジットカードや請求と支払いの対応などかなり充実しています。
        - 個人のしえんはGitHub Sponsorsの方が手数料がないためいいですが、プロジェクトの支援はOpen Source Collectiveの方が良さそうに見えています。
        - jsprimerの目的の一つとして侵入社員に見てもらうものというのがあります
            - jsprimerを会社の学習資料として参照するという話をよく聞くようになりました
            - そうした会社がjsprimerのプロジェクトを支援してくれると、jsprimerの継続につながります。
- ロジックツリーにするという次のようなイメージ
    
    
    ![mermaid-diagram-2023-06-05-214037.png](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/016c188a-0f87-4362-8c76-8b1f1a5b46a7/mermaid-diagram-2023-06-05-214037.png)
    
- Open Source Collectiveのしんせい段階なので、まだ決まっていませが、
    - 決まったら連絡するので、興味がある人はこのフォームから登録してください
    - フォーム
- SROIについて
    - (ユーザー x 書籍の値段 x 平均完了率)/費用
    - 費用は、年120万で、月に10万というイメージ
    - ユーザー数は、月　？?
    - 書籍の値段は 3900円
    - 平均的な読了リツは　ｘ
    - (3900 * 22000 * x) / 120

## おわりに

- 技術書のみフォーマットは減っていくと思います
    - 書籍だけじゃなくてサイトや動画などがセットにはなっていると思います
    - 動画など別の媒体が多くなってきている
    - 公式サイトが極めて質の高いドキュメントになっている
- MDNも[Open Web Docs](https://opencollective.com/open-web-docs#category-ABOUT)という団体で管理されるようになり、MDN plusといった新しい取り組みもしている
    - https://github.com/openwebdocs/project
    - [OWD 2022 goals](https://github.com/openwebdocs/project/blob/main/2022-goals.md)や[Open Web Docs Q2 2022 Impact Report](https://github.com/openwebdocs/project/blob/main/impact-report-q2-2022/impact-report-q2-2022.md)などを見ると面白い
- jsprimerは量より質を意識したプロジェクトです
    - これは[はじめに · JavaScript Primer #jsprimer](https://jsprimer.net/intro/)を見てもわかりますが、リファレンスや網羅的にカバーすることはスコープ外にしています
    - 毎年ECMAScriptが更新されますが、jsprimerでは書かない新しい機能も多くあります。
    - これは、必要になったタイミングで自分自身で調べられればいいので、そのための基礎を目的にしているためです
    - コードは生き物のように、放置すると時間で劣化していきます
    - 静的なコードは時間経過で変化しないが、アクティブな状態のコードは依存関係と絡み合っているため、放置すると何かが壊れます
    - jsprimerは最初からこの時間経過を意識して書かれていて、壊れにくい知識を中心にしています
        - 具体的には、ライブラリを使いこなすのが目的ではないため、最小限にしている
        - 時間経過でへんかしていくものは、時間で変化する
        - Living Bookになってるのもこのギミックのため、
        - 書籍はスナップショットなので、静的で安定して読める、一方でウェブ版は動的なので、変化を積極的に取り込む
        - この2種類も時間軸を意識している構造になっています
- 最後にjsprimerのstatsです
    - 総合PV
    - 1日のPV
    - 一日のコード評価
    - コミッター数
        - 初PRがjs-primerという人も何人かいると思います

---

# 本文

JavaScriptの入門書である[JavaScript Primer 改訂2版 迷わないための入門書](https://www.amazon.co.jp/dp/4048931105/)がリリースされました。

[![JavaScript Primer 改訂2版](https://efcl.info/wp-content/uploads/2023/06/08-1686200388.png)](https://www.amazon.co.jp/dp/4048931105/)

書店やオンライン書店で購入できます。

- KADOKAWA: [「JavaScript Primer 改訂2版 迷わないための入門書」azu [ＰＣ・理工科学書] - KADOKAWA](https://www.kadokawa.co.jp/product/302303004295/)
- Amazon: [JavaScript Primer 改訂2版 迷わないための入門書 | azu, Suguru Inatomi |本 | 通販 | Amazon](https://www.amazon.co.jp/dp/4048931105/)
- 楽天: [楽天ブックス: JavaScript Primer 改訂2版 迷わないための入門書 - azu - 9784048931106 : 本](https://books.rakuten.co.jp/rb/17509001/?scid=af_pc_etc&sc2id=af_104_0_10001813)
- ヨドバシ: [ヨドバシ.com - JavaScript Primer 改訂2版 迷わないための入門書 [単行本] 通販【全品無料配達】](https://www.yodobashi.com/product/100000009003715263/)

また、電子版のリリースも予定しています。
電子版がリリースされたこのブログや次のメーリングリストでお知らせします。

<!-- Begin Mailchimp Signup Form -->
<link href="//cdn-images.mailchimp.com/embedcode/classic-071822.css" rel="stylesheet" type="text/css">
<style type="text/css">
	#mc_embed_signup{background:#fff; clear:left; font:14px Helvetica,Arial,sans-serif; padding: 4px; max-width:600px;}
	/* Add your own Mailchimp form style overrides in your site stylesheet or in this style block.
	   We recommend moving this block and the preceding CSS link to the HEAD of your HTML file. */
</style>
<div id="mc_embed_signup">
    <form action="https://jsprimer.us13.list-manage.com/subscribe/post?u=fc41e11a2b9dc6f05350e0de0&amp;id=7ab1594ae8&amp;f_id=00f796e2f0" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
        <div id="mc_embed_signup_scroll">
        <h2>JavaScript Primerの更新情報を購読</h2>
        <div class="indicates-required"><span class="asterisk">*</span> indicates required</div>
<div class="mc-field-group">
	<label for="mce-EMAIL">Email Address  <span class="asterisk">*</span>
</label>
	<input type="email" value="" name="EMAIL" class="required email" id="mce-EMAIL" required>
	<span id="mce-EMAIL-HELPERTEXT" class="helper_text"></span>
</div>
	<div id="mce-responses" class="clear foot">
		<div class="response" id="mce-error-response" style="display:none"></div>
		<div class="response" id="mce-success-response" style="display:none"></div>
	</div>    <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
    <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_fc41e11a2b9dc6f05350e0de0_7ab1594ae8" tabindex="-1" value=""></div>
        <div class="optionalParent">
            <div class="clear foot">
                <input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button">
                <p class="brandingLogo"><a href="http://eepurl.com/h44CST" title="Mailchimp - email marketing made easy and fun"><img src="https://eep.io/mc-cdn-images/template_images/branding_logo_text_dark_dtp.svg"></a></p>
            </div>
        </div>
    </div>
</form>
</div>
<script type='text/javascript' src='//s3.amazonaws.com/downloads.mailchimp.com/js/mc-validate.js'></script><script type='text/javascript'>(function($) {window.fnames = new Array(); window.ftypes = new Array();fnames[0]='EMAIL';ftypes[0]='email';}(jQuery));var $mcj = jQuery.noConflict(true);</script>
<!--End mc_embed_signup-->

フォームが表示されない人は <https://github.us13.list-manage.com/subscribe/post?u=fc41e11a2b9dc6f05350e0de0&id=7ab1594ae8> から登録できます。

## JavaScript Primerとは

[JavaScript Primer][]は、2015年に大きな変更があったECMAScript 2015を基本にして、現時点(2023-06-09)での最新であるECMAScript 2022を含むJavaScriptを一から学べるサイトと書籍です。

- サイト: <https://jsprimer.net/>
- 書籍: [JavaScript Primer 改訂2版 迷わないための入門書](https://www.amazon.co.jp/dp/4048931105/)

また既存のJavaScriptのコードを理解するためには、古い書き方についても知識としては知る必要があるため、必要に応じてそれらについても解説しています。

プログラミング経験のある人がJavaScriptという言語を新たに学ぶことを念頭に書かれています。
そのため、本当にプログラムが初めてという方には少しむずかしい部分はあります。
しかし、今は動画やサイトなどでJavaScriptの教材はたくさんあるので、他の教材と組み合わせて読むのが良いでしょう。

JavaScriptが扱う範囲はあまりに広大なので、一つの書籍/動画/サイトでJavaScriptをすべて学ぶのは不可能です。
そのため、複数のものを組み合わせてJavaScriptを学んでいくのがよいと思います。

[JavaScript Primer][]の書籍版とウェブサイト版の内容は基本的には同じです。
書籍版は読み物として読みやすようにレイアウトなどが最適化されています。

- [ウェブ版と書籍版の違い](https://jsprimer.net/intro/#diff-with-print-version)

<https://jsprimer.net> で公開しているウェブ版は誰でも無料で読めます。
書籍の内容もコードはMITライセンス、文章はCC BY-NC 4.0で公開しているため、[ライセンス](https://github.com/asciidwango/js-primer/blob/master/LICENSE)の範囲内なら自由に扱えます。
ただし、電子書籍として販売されているPDFやepubなどの生成物はこのライセンスの範囲外なので、販売されているPDFなどをコピーして配るのはできません。(あくまでウェブで公開してる内容についてのライセンスです)

出典が[JavaScript Primer][]であると明記されているなら、文章やコードはそのままコピーして使えます。
また、CC BY-NCなのでそのまま再販のような営利目的の利用は駄目ですが、教育のための教材として利用することは可能です。
この辺の[境界線はライセンスでは曖昧](https://creativecommons.jp/faq/#a7)なので、必要に応じて問い合わせてください。

- 連絡先: [Contact](https://github.com/asciidwango/js-primer#contact)

## JavaScript Primer 改訂2版の変更点

改訂版の変更内容は[JavaScript Primer 改訂2版の予約が開始されました | Web Scratch](https://efcl.info/2023/05/18/jsprimer-v2-yoyaku/)でも紹介しています。

改訂2版では、2020年4月から2023年5月ぐらいまでの変更内容が含まれています。
JavaScriptの仕様であるECMAScript([ECMA-262](https://github.com/tc39/ecma262))も常に更新されるLiving Standardですが、毎年6月ごろにスナップショットとして`ECMAScript 20XX`をリリースしています。
そのため、jsprimer 改訂2版では、初版からの変更としてECMAScript 2020、2021、2022の内容が含まれています。

リリースノートにECMAScriptのバージョンに合わせた変更点をまとめてあるので、これも参照してみてください

- [Release v2.0.0: ECMAScript 2020対応 · asciidwango/js-primer](https://github.com/asciidwango/js-primer/releases/tag/v2.0.0)
- [Release v3.0.0: ECMAScript 2021対応 · asciidwango/js-primer](https://github.com/asciidwango/js-primer/releases/tag/v3.0.0)
- [Release v4.0.0: ECMAScript 2022対応 · asciidwango/js-primer](https://github.com/asciidwango/js-primer/releases/tag/v4.0.0)

ECMAScriptの変更への対応だけではなく、読みやすくするための変更や、JavaScriptの現状に合わせた変更も含まれています。
まとめると次のような変更がjsprimer 改訂2版に含まれています。

- ECMAScriptの新しいバージョンであるES2020、ES2021、ES2022に対応した
- 新しいECMAScriptの機能によって、使う必要がなくなった機能は非推奨へと変更した
- 文字では想像しにくいビット演算、非同期処理などに図を追加した
- PromiseとAsync Functionを非同期の処理の中心として書き直した
- 一方で、エラーファーストコールバックは非同期処理としてはメインではなくなった
- `Array#includes`という表記は、Private Classs Fields(`#field`)と記号が被るため廃止した
- Node.jsでもECMAScript Modulesを使うようになり、CommonJSはメインではなくなった
- Node.jsが12から18までアップデートし、npmは6から9までアップデート、各種ライブラリも最新にアップデート
- 読者からのフィードバックを受けて、全体をより分かりやすく読みやすくなるように書き直した

[jsprimerのウェブ版はオープンソース](https://github.com/asciidwango/js-primer)として公開してる書籍なので、実際のDiffはGitHubでも確認できます。

- Diff: [Comparing 1.0.0...v4.0.0-publish · asciidwango/js-primer](https://github.com/asciidwango/js-primer/compare/1.0.0...v4.0.0-publish)

ほとんどの章に変更が入っているのですが、大きなところだと次のような変更があります。

- [非同期処理:Promise/Async Function · JavaScript Primer #jsprimer](https://jsprimer.net/basic/async/)
  - エラーファーストコールバックからPromiseとAsync Functionをメインに書き直した
- [Node.jsでCLIアプリ · JavaScript Primer #jsprimer](https://jsprimer.net/use-case/nodecli/)
  - CommonJSからECMAScript Moduleベースに書き直した
  - `node:fs/promises` などの`node:` prefixなコアモジュールを利用するように書き直した
- [Todoアプリ · JavaScript Primer #jsprimer](https://jsprimer.net/use-case/todoapp/)
  - [クラス](https://jsprimer.net/basic/class/)でパブリック/プライベートフィールドが増えたので、コードベースを変更

また改訂2版では、次の方々にレビューをしていただきました。ありがとうございました。

- haruguchi（池奥 悠馬）
- 2nofa11（ツノ）
- staticWagomU（林 永遠）
- kakts（阿久津 恵太）
- keisuke kudo（工藤佳祐）
- r-shirasu
- 藤野慎也（morinokami）
- kobakazu0429（小畠 一泰）
- 滝谷修

## JavaScript Primerはなぜ更新され続けているのか?

無事に改訂2版が出版されましたが、JavaScript Primerはなぜ更新され続けているのか、その理由を説明します。

### JavaScript Primerの目的

[jsprimer][]の目的は、初版を出版したときの記事や、初版の書籍の冒頭でも紹介しています。

- [JavaScript Primerを出版しました！/JavaScript Primerはなぜ書かれたのか？ | Web Scratch](https://efcl.info/2020/04/27/jsprimer/)
- [はじめに · JavaScript Primer #jsprimer](https://jsprimer.net/intro/)

JavaScript Primerは、JavaScriptの基礎を学ぶための入門書です。
主な目的としてはJavaScript初学者がJavaScriptを学べるようにするということがあります。

一方で、JavaScriptの仕様であるECMAScriptは毎年更新されています。
また、JavaScriptの実行環境であるブラウザ、Node.js/Deno/Bun/Cloudflare Workersなどは常に更新されていて、変化の激しい環境です。

そのため、変化に対応できる基礎を身につけることがjsprimerの目的の一つです。

### JavaScriptを取り巻く変化に対応できる基礎を身につける

大体のプログラミング言語は変化しているので、JavaScriptに限定される話ではありませんが、変化に対応できるとはどういうことでしょうか。

[jsprimer][]では、変化に対応できるようになるためには、次のようなことが必要だと考えています。

#### 知識を得る

変化に対応するためには、そもそも変化が変化と認識できるための知識が必要です。
JavaScriptはプログラミング言語なので、基本的な構文などがガラッと変わったりはしません。
そのため、基礎的な知識は環境が変化してもある程度普遍的なものです。

[jsprimer][]では、基礎的な知識を得るために、[第一部: 基本文法](https://jsprimer.net/basic/)でJavaScriptの基礎を学びます。
そのあとで、[第二部: ユースケース](https://jsprimer.net/use-case/)でブラウザやNode.jsでのアプリケーションを開発しながら、実際の使われ方を学べるようにしています。

また、JavaScriptはECMAScriptという仕様で定義されています。
このECMAScriptは毎年更新されていて、新しい機能が追加されています。
追加される機能も突然増えるのではなく、仕様策定のプロセスがあり、そのプロセスに則りながら機能が追加されています。

そのため、プロセスを知ることで、なぜその変化が起きたのかを知ることができます。
jsprimerでは、次の章でECMAScriptのプロセスについても紹介しています。

- [ECMAScript · JavaScript Primer #jsprimer](https://jsprimer.net/basic/ecmascript/)

JavaScriptは最も使われている言語の一つ([TIOBE Index](https://www.tiobe.com/tiobe-index/)/[GitHub](https://octoverse.github.com/2022/top-programming-languages)/[Modulecounts](http://www.modulecounts.com/))であるため、需要もさまざまで変化が起きるのは当然です。

しかし、変化というのは何かしらの理由があって起きているものです。
脈絡のない変化というのは意外と少なく、なぜその変化が今起きているのかを掴めるようになると、変化に対応できるようになると考えています。

#### 手を動かす

プログラミング言語などを学ぶ際には、手を動かしてみると学べることも多いです。
知識を得ることは大事ですが、知識だけでは経験との差が大きくなった場合に変化に対応するのが難しくなります。

そのため、[jsprimer][]では、知識を得るだけでなく、実際に手を動かしてみることで、変化に対応できるようになることを目指しています。

jsprimerは、[書籍版](https://www.amazon.co.jp/dp/4048931105/)と[ウェブサイト版](https://jsprimer.net/)があります。
ウェブサイト版では、サンプルコードをその場で実行できるようになっています。

単純なサンプルコードだけではなく、ウェブアプリケーションのような複数のコードからなるサンプルコードもブラウザ上で実行してプレビューできるようになっています。

![REPL](https://efcl.info/wp-content/uploads/2019/01/11-1547170602.png)

![ウェブエディタ](https://user-images.githubusercontent.com/19714/175033435-3f74dc30-2b7d-4d38-8da7-97361b018766.png)

- [JavaScriptのコード例をインタラクティブに実行できるようにするREPLライブラリ | Web Scratch](https://efcl.info/2019/01/11/codemirror-console/)
- [JavaScript Primer 4.0.0: ECMAScript 2022に対応したJS本 | Web Scratch](https://efcl.info/2022/06/19/jsprimer-4/) - ウェブエディタの改善

[Replit](https://replit.com/)[StackBlitz](https://stackblitz.com/)、[CodeSandbox](https://codesandbox.io/)、[Codespaces](https://github.co.jp/features/codespaces)などブラウザ上でも開発できるような環境は増えてきています。
ローカルで環境を用意してエディタで書くというもできますが、Webブラウザ上でできるのは準備がいらないのがメリットです。

学習には、繰り返し実行してみることも大事です。
そのため、[jsprimer][]では、サンプルコードをその場で実行できるようになっています。

#### 試行錯誤できる

変化で生まれた新しいものは、ウェブ上などにそもそも知識(ドキュメントや記事など)がないこともあります。この場合、実験してみることで、新しいものを知ることができます。

そのため、試行錯誤するための試行回数を増やすことが、変化に対応するために役立ちます。

- [Increasing number of attempts ver. 2021 - Speaker Deck](https://speakerdeck.com/butsugiri/increasing-number-of-attempts-ver-2021)

[jsprimer][]で、ウェブブラウザ上でサンプルコードを実行できるようになっているのは、この試行回数を増やすためです。気軽に試せることで、試行回数を増やして知識や経験を得られると考えています。

#### ライブラリやフレームワークに仕組みがあることを理解できる

JavaScriptは、ライブラリ/フレームワーク/ツールが多くあります。
現代の開発では、ライブラリ/フレームワーク/ツールを全く使わないというケースはあまりないと思います。

一方で、よくできたライブラリやフレームワークなどはまるで魔法のような仕組みになってるように感じることもあります。
しかし、これらのJavaScriptライブラリやフレームワークは、JavaScriptの機能を使って作られています。魔法のように捉えてしまうと、ライブラリやフレームワークの仕組みを理解することが難しくなります。

例えば、[Babel](https://babeljs.io/)は、JavaScriptのTranspilerです。
新しい言語の機能を古い言語の機能で再現するようにコードを変換することで、新しい言語の機能を古い環境でも使えるようにするものです。

一見すると、新しい機能をなんでも古い実行環境でも使えるようにする魔法のように見えます。
しかし、やってることはあくまでJavaScriptのコードを出力するだけなので、実行されるコードの表現力の限界はJavaScriptの機能に依存します。つまり、どんなに頑張っても、JavaScriptの機能を超えることはできません。

たとえば、[Privateクラスフィールド](https://jsprimer.net/basic/class/#private-class-fields)がない環境では、[それを完全に再現することはできません](https://babeljs.io/repl#?browsers=ie%2011&build=&builtIns=false&corejs=3.6&spec=false&loose=false&code_lz=MYGwhgzhAECC0G8BQ1oGIAOSC-Q&debug=false&forceAllTransforms=false&modules=commonjs&shippedProposals=true&circleciRepo=&evaluate=true&fileSize=false&timeTravel=false&sourceType=module&lineWrap=true&presets=env&prettier=false&targets=Node-16&version=7.22.4&externalPlugins=&assumptions=%7B%7D)。あくまで似た動作になるように、コードを変換することしかできません。

これらの捉え方を間違ってしまうと、必要以上に依存してしまったり、誤解をしてしまうことがあります。そのため、基礎を学んだり、ライブラリやフレームワークにも仕組みがあることを知ることは、開発において重要です。

[jsprimer][]では、[ECMAScript](https://jsprimer.net/basic/ecmascript/)の章でこういうった話や[ユースケース: Todoアプリ](https://jsprimer.net/use-case/todoapp/)の章でライブラリを使わずにアプリケーションを作ってみることで学べるようにしています。

#### オープンソースへContributeできる

これは書籍の内容というよりも、[jsprimer][]というプロジェクトのあり方に関する話です。
jsprimerはオープンソースであり、GitHubにソースコードを公開しています。

- [asciidwango/js-primer: JavaScript Primer - 迷わないための入門書](https://github.com/asciidwango/js-primer)

そのため、文章やコードなどに間違いがあったら、通常のオープンソースのプロジェクトと同じようにIssueやPull Requestを送ることができます。

- [文章の間違いに気づいたら · JavaScript Primer #jsprimer](https://jsprimer.net/intro/feedback/)

現代の開発では、オープンソースを利用せずに開発することは難しいです。
[npmの記事 @ 2018](https://medium.com/npm-inc/this-year-in-javascript-2018-in-review-and-npms-predictions-for-2019-3a3d7e5298ef#49d6)では、アプリケーションコードの97%がライブラリのコードであると書かれています。また、[[分析レポート] 2023年オープンソース・セキュリティ＆リスク分析レポート | シノプシス](https://www.synopsys.com/ja-jp/software-integrity/resources/analyst-reports/open-source-security-risk-analysis.html)によると96%のアプリケーションはオープンソースコードを含んでおり、そのアプリケーションのコードベースの76%はオープンソースのコードで構成されると書かれています。

このように、オープンソースで開発されたコードに触れずに開発することは難しいです。
そのため、オープンソースに関わること自体が、変化に対応できるという意味でも重要だと思っています。

オープンソースへの関わり方は色々あると思いますが、オープンソースソフトウェアではContributeするというのが一番直接的な身近な関わり方だと思います。

jsprimer自体がオープンソースとして開発されています。
読んでいてよくわからなかったり、間違いを見つけたら、多くのオープンソースと同じ方法でIssueやPull Requestを送ることができます。

実際に、jsprimerには多くのIssueやPull Requestが送られています。
この中には、初めてのオープンソースへのContributeという方も多かった気はします。

そのため、[Contribution Guide](https://github.com/asciidwango/js-primer/blob/master/CONTRIBUTING.md)を整備したり、小さな修正ならGitHub上で完結するので、[ブラウザだけで修正できる方法を案内](https://github.com/asciidwango/js-primer/issues/983#issuecomment-545273628)したりとContributeしやすい環境を整えています。

## JavaScript Primerは変化を前提にした書籍のプロジェクト

先ほどから何度も出てきているようにJavaScript自体が変化している言語です。
そのため、JavaScriptの書籍を書くというのは、書籍自体が変化に対応する必要があります。

jsprimerは、変化を強く意識して書かれています。
変化しやすい箇所は書籍のスコープ外にして、その基礎となる部分を中心にしたり、文章自体を変化に対応しやすいように書いたりしています。

たとえば、[本書の目的ではないこと](https://jsprimer.net/intro/#do-not)としては次のような変化しやすいものをスコープ外にしています。

> - 他のプログラミング言語と比較するのが目的ではない
> - ウェブブラウザについて学ぶのが目的ではない
> - Node.jsについて学ぶのが目的ではない
> - JavaScriptのすべての文法や機能を網羅するのが目的ではない
> - JavaScriptのリファレンスとなることが目的ではない
> - JavaScriptのライブラリやフレームワークの使い方を学ぶのが目的ではない
> - これを読んだから何か作れるというゴールがあるわけではない

また、依存関係が多いほど、時間経過で何もしなくても壊れていきます。

たとえば、[Working in Public](https://press.stripe.com/working-in-public)では、次のような話が書かれています。

> “While static code does not change over time, code in active state is closely intertwined with its dependencies, meaning other code that runs with it. If software is a LEGO house, each of its dependencies can be thought of as a LEGO brick. An open source project might be one of those bricks, with a different project, maintained by another group of developers, forming another brick. Over time, code falls out of sync with its dependencies, becoming incompatible with newer versions of those dependencies. Even if your code doesn’t change, everything else around it changes. Code that hasn’t been touched in five years can’t be executed on a modern machine without some updates, unless a developer replicates its exact circumstances (also known as a developer’s environment), using tools such as containers or emulators. Developers might choose to stick with older versions of their dependencies, but if they ever update those dependencies something will likely break and require changes to make it all run together.”
> Working in Public

(依存がない)静的なコードは時間で変化はしにくい、依存があるアクティブなコードは、コードが変わらなくても依存関係である周りが変化します。
そのため5年間触っていないコードが、最新の環境ではそのままは動かないという話が書かれています。

これは、依存関係が多い書籍は、時間経過で変化に対応するものも多く、更新自体が難しくなるということを意味します。
たとえば、ライブラリについて扱うような書籍は、1-2年後に読むとライブラリのバージョンが古くなっていて、最新のバージョンではそのままでは動かないこともあります。

jsprimerではこの問題を回避し、メンテナンスをしやすくするために書籍の内容が依存するものを最小限にしています。
Node.jsやnpmなどを使うことやライブラリを使うこと自体は、今のJavaScriptを理解するのに必要なため、書籍の内容としては含まれています。
しかし、それらのライブラリを解説することは目的ではなく、一般的なライブラリの使い方という形で依存を最小限にしています。

この辺のJavaScriptのエコシステムの変化と書籍の内容の付き合い方については次の記事でも紹介しています。

- [JavaScript Primerを出版しました！/JavaScript Primerはなぜ書かれたのか？ | Web Scratch](https://efcl.info/2020/04/27/jsprimer/)

それ以外にも、更新をしやすくするための工夫をjsprimerでは色々と取り入れています。

- サンプルコードのUnit Test
- サンプルコードのDoc Test
  - [MarkdownやAsciidoc中に書いたJavaScriptのサンプルコードをdoctestするツールを作った | Web Scratch](https://efcl.info/2019/09/02/power-doctest-markdown-asciidoc/)
- [textlint](https://github.com/textlint/textlint)を使った自然言語のチェック
- [textstat](https://github.com/textlint/textstat)を使った文章の読みやすさのチェック
- textlint + ESLintによるMarkdown中のインラインコードブロックのLint

などなど、書籍の内容を変化に対応しやすくするための工夫を色々と取り入れています。

特に文章の表現の揺れなどは、同じ人でも時間経過で書き方が変わってしまうことがあります。
これは、自然言語はプログラミング言語と違って表現の揺れが起きやすいためですが、jsprimerではtextlintなどを使って表現の揺れを置きにくくしています。

詳細は[Contribution Guide](https://github.com/asciidwango/js-primer/blob/master/CONTRIBUTING.md)でも解説しています。

## 静的な書籍版とアクティブなウェブ版

先ほどの話にも出てきましたが、静的なコードと依存関係が多いアクティブなコードの変化の違いがあります。

JavaScript Primerも似たようなことを意識して、静的な書籍版とアクティブなウェブ版を作っています。
今回リリースされたのは、静的な書籍版で、書籍は毎日改訂などは難しいため、早くても数年に1度の更新になります。
更新頻度が低いため、その分安定化などに力を入れてチェックできるため、一気に読む分には書籍が向いていると思います。

- 書籍版: [JavaScript Primer 改訂2版 迷わないための入門書 | azu, Suguru Inatomi |本 | 通販 | Amazon](https://www.amazon.co.jp/dp/4048931105/)

一方のウェブ版は、常に最新の状態にしているので、常に変わっている可能性があります。

- ウェブ版: <https://jsprimer.net/> 

また、ECMAScriptは毎年更新されているため、その変化に対応するためにもウェブ版は毎年何かしら更新されています。
今までも、毎年のECMAScriptの変化に対応するために、Issueを切ってそれぞれ対応しています。

- [ECMAScript 2023の対応 · Issue #1658 · asciidwango/js-primer](https://github.com/asciidwango/js-primer/issues/1658)
- [ECMAScript 2022の対応 · Issue #1337 · asciidwango/js-primer](https://github.com/asciidwango/js-primer/issues/1337)
- [ECMAScript 2021の対応 · Issue #1220 · asciidwango/js-primer](https://github.com/asciidwango/js-primer/issues/1220)
- [ECMAScript 2020の対応 · Issue #1145 · asciidwango/js-primer](https://github.com/asciidwango/js-primer/issues/1145)

## JavaScript Primerが変化に対応するためのコスト



[JavaScript Primer]: https://jsprimer.net/
[jsprimer]: https://jsprimer.net/